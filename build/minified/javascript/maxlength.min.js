!function(a){a.fn.maxlength=function(b){function c(a){var c=a.value;return b.words&&(c=a.value.length?c.split(/\s+/):{length:0}),c.length}return"string"==typeof b&&(b={feedback:b}),b=a.extend({},a.fn.maxlength.defaults,b),this.each(function(){function d(a){var d=c(this),e=d>=h,f=a.keyCode;if(e)switch(f){case 8:case 9:case 17:case 36:case 35:case 37:case 38:case 39:case 40:case 46:case 65:return;default:return b.words&&32!=f&&13!=f&&d==h}}var e=this,f=a(e),g=a(e.form),h=b.useInput?g.find("input[name=maxlength]").val():f.attr("maxlength"),i=g.find(b.feedback),j=function(){var a=c(e),d=h-a;i.html(d||"0"),b.hardLimit&&0>d&&(e.value=b.words?e.value.split(/(\s+)/,2*h-1).join(""):e.value.substr(0,h),j())};f.keyup(j).change(j),b.hardLimit&&f.keydown(d),j()})},a.fn.maxlength.defaults={useInput:!1,hardLimit:!0,feedback:".charsLeft",words:!1}}(jQuery);